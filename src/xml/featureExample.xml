<?xml version="1.0" encoding="UTF-8"?>

<AnalysisModuleLibrary xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://openmicroscopy.org/XMLschemas/AnalysisModule/IR3/AnalysisModule.xsd">

<AnalysisModule
    Category="Testing" ModuleName="Find cells"
    ModuleType="OME::Analysis::FindBounds"
    ProgramID=""
    Description="Find cells"
    NewFeatureName="CELL">

  <Declaration>
    <FormalOutput
        Name="Output bounds" SemanticTypeName="Bounds"
        Description="" IBelongTo="[Feature]" />

  </Declaration>
</AnalysisModule>

<AnalysisModule
    Category="Testing" ModuleName="Find mito"
    ModuleType="OME::Analysis::FindBounds"
    ProgramID=""
    Description="Find mito"
    FeatureIterator="CELL"
    NewFeatureName="MITOCHONDRIA">

  <Declaration>
    <FormalInput
        Name="Input bounds" SemanticTypeName="Bounds"
        Description=""/>

    <FormalOutput
        Name="Output bounds" SemanticTypeName="Bounds"
        Description="" IBelongTo="[Feature]" />

  </Declaration>
</AnalysisModule>

<AnalysisModule
    Category="Testing" ModuleName="Find golgi"
    ModuleType="OME::Analysis::FindBounds"
    ProgramID=""
    Description="Find golgi"
    FeatureIterator="CELL"
    NewFeatureName="GOLGI">

  <Declaration>
    <FormalInput
        Name="Input bounds" SemanticTypeName="Bounds"
        Description="" />

    <FormalOutput
        Name="Output bounds" SemanticTypeName="Bounds"
        Description="" IBelongTo="[Feature]" />

  </Declaration>
</AnalysisModule>

<AnalysisModule
    Category="Testing" ModuleName="Find ratio"
    ModuleType="OME::Analysis::FindRatio"
    ProgramID=""
    Description="Find ratio"
    FeatureIterator="CELL">

  <Declaration>
    <FormalInput
        Name="Mito bounds" SemanticTypeName="Bounds"
        Description="" />

    <FormalInput
        Name="Golgi bounds" SemanticTypeName="Bounds"
        Description="" />

    <FormalOutput
        Name="Golgi-mito ratio" SemanticTypeName="Ratio"
        Description="" IBelongTo="[Iterator]" />

  </Declaration>
</AnalysisModule>

<SemanticTypeDefinitions>

<DataTypes>

    <Table
        Granularity="F" TableName="BOUNDS"
        Description="">
      <Column
          ColumnName="X"
          SQL_DataType="integer" Description=""/>
      <Column
          ColumnName="Y"
          SQL_DataType="integer" Description=""/>
      <Column
          ColumnName="WIDTH"
          SQL_DataType="integer" Description=""/>
      <Column
          ColumnName="HEIGHT"
          SQL_DataType="integer" Description=""/>
    </Table>

    <Table
        Granularity="F" TableName="RATIO"
        Description="">
      <Column
          ColumnName="RATIO"
          SQL_DataType="float" Description=""/>
    </Table>

</DataTypes>

  <SemanticType
      Name="Bounds"
      Description="Bounds of a feature">
    <SemanticElement
        Name="X" TableName="BOUNDS" ColumnName="X"
        Description=""/>
    <SemanticElement
        Name="Y" TableName="BOUNDS" ColumnName="Y"
        Description=""/>
    <SemanticElement
        Name="WIDTH" TableName="BOUNDS" ColumnName="WIDTH"
        Description=""/>
    <SemanticElement
        Name="HEIGHT" TableName="BOUNDS" ColumnName="HEIGHT"
        Description=""/>
  </SemanticType>

  <SemanticType
      Name="Ratio"
      Description="Ratio">
    <SemanticElement
        Name="RATIO" TableName="RATIO" ColumnName="RATIO"
        Description=""/>
  </SemanticType>

</SemanticTypeDefinitions>

</AnalysisModuleLibrary>
