<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
    "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd" [
    <!ATTLIST svg
              xmlns:a3 CDATA #IMPLIED
              a3:scriptImplementation CDATA #IMPLIED>
    <!ATTLIST script
              a3:scriptImplementation CDATA #IMPLIED>
]>
<svg xml:space="preserve" onload="init(evt)"
	xmlns="http://www.w3.org/2000/svg"
	xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:a3="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/"
	a3:scriptImplementation="Adobe">
	<script type="text/ecmascript" a3:scriptImplementation="Adobe"
		xlink:href="../../../src/JavaScript/SVG_GUI/widget.js" />
	<script type="text/ecmascript" a3:scriptImplementation="Adobe"
		xlink:href="../../../src/JavaScript/SVG_GUI/popupList.js" />
	<script type="text/ecmascript" a3:scriptImplementation="Adobe"
		xlink:href="../../../src/JavaScript/SVG_GUI/AntiZoomAndPan.js" />
	<script type="text/ecmascript" a3:scriptImplementation="Adobe"><![CDATA[
		var redPopupList, bluePopupList, greenPopupList;
		var azap = new AntiZoomAndPan();
		var wavelengths = new Array( "100nm", "200nm", "300nm", "400nm", "500nm" );

		function init(e) {
			redPopupList = new popupList(
				35, 50, wavelengths, showRedWavelength, 1,
				svgDocument.getElementById("redAnchorText").firstChild.data,
				svgDocument.getElementById("redItemBackgroundText").firstChild.data,
				svgDocument.getElementById("redItemHighlightText").firstChild.data
			);
			redPopupList.setLabel(2, -5, "red");
			redPopupList.getLabel().setAttributeNS( null, "fill", "red");
			
			greenPopupList = new popupList(
				90, 50, wavelengths, showGreenWavelength, 3,
				svgDocument.getElementById("greenAnchorText").firstChild.data,
				svgDocument.getElementById("greenItemBackgroundText").firstChild.data,
				svgDocument.getElementById("greenItemHighlightText").firstChild.data
			);
			greenPopupList.setLabel(2, -5, "green");
			greenPopupList.getLabel().setAttributeNS( null, "fill", "green");

			bluePopupList = new popupList(
				145, 50, wavelengths, showBlueWavelength, 0,
				svgDocument.getElementById("blueAnchorText").firstChild.data,
				svgDocument.getElementById("blueItemBackgroundText").firstChild.data,
				svgDocument.getElementById("blueItemHighlightText").firstChild.data
			);
			bluePopupList.setLabel(2, -5, "blue");
			bluePopupList.getLabel().setAttributeNS( null, "fill", "blue");


			var controls=svgDocument.getElementById("controls");
			redPopupList.realize(controls);
			greenPopupList.realize(controls);
			bluePopupList.realize(controls);

			azap.appendNode(controls);
	   }

		function showRedWavelength(item) {
			svgDocument.getElementById("redWavelength").firstChild.data =
				"Red wavelength is set to " + wavelengths[item];
		}
		function showGreenWavelength(item) {
			svgDocument.getElementById("greenWavelength").firstChild.data =
				"Green wavelength is set to " + wavelengths[item];
		}
		function showBlueWavelength(item) {
			svgDocument.getElementById("blueWavelength").firstChild.data =
				"Blue wavelength is set to " + wavelengths[item];
		}

	]]></script>
	<defs>
	<text id="redAnchorText"><![CDATA[
		<rect x="-2" width="{$width + 4}" height="{$height}" fill="rgb(255,70,70)"
			rx="{Math.round($height/2)}" ry="{Math.round($height/2)}"/>
	]]></text>
	<text id="redItemBackgroundText"><![CDATA[
		<rect x="-2" width="{$width + 4}" height="0" fill="rgb(255,70,70)"
			rx="{Math.round($height/2)}" ry="{Math.round($height/2)}">
			<animate attributeName="height" from="0" to="{$height}" dur="0.1s"
				fill="freeze" begin="indefinite"/>
			<animate attributeName="height" from="{$height}" to="0" dur="0.1s"
				fill="freeze" begin="indefinite"/>
		</rect>
	]]></text>
	<text id="redItemHighlightText"><![CDATA[
		<rect x="-2" width="{$width + 4}" height="{$height}" fill="rgb(255,100,100)"
			rx="{Math.round($height/2)}" ry="{Math.round($height/2)}"/>
	]]></text>
	<text id="greenAnchorText"><![CDATA[
		<rect x="-2" width="{$width + 4}" height="{$height}" fill="mediumseagreen"
			rx="{Math.round($height/2)}" ry="{Math.round($height/2)}"/>
	]]></text>
	<text id="greenItemBackgroundText"><![CDATA[
		<rect x="-2" width="{$width + 4}" height="0" fill="mediumseagreen"
			rx="{Math.round($height/2)}" ry="{Math.round($height/2)}">
			<animate attributeName="height" from="0" to="{$height}" dur="0.1s"
				fill="freeze" begin="indefinite"/>
			<animate attributeName="height" from="{$height}" to="0" dur="0.1s"
				fill="freeze" begin="indefinite"/>
		</rect>
	]]></text>
	<text id="greenItemHighlightText"><![CDATA[
		<rect x="-2" width="{$width + 4}" height="{$height}" fill="lime"
			rx="{Math.round($height/2)}" ry="{Math.round($height/2)}"/>
	]]></text>
	<text id="blueAnchorText"><![CDATA[
		<rect x="-2" width="{$width + 4}" height="{$height}" fill="cornflowerblue"
			rx="{Math.round($height/2)}" ry="{Math.round($height/2)}"/>
	]]></text>
	<text id="blueItemBackgroundText"><![CDATA[
		<rect x="-2" width="{$width + 4}" height="0" fill="cornflowerblue"
			rx="{Math.round($height/2)}" ry="{Math.round($height/2)}">
			<animate attributeName="height" from="0" to="{$height}" dur="0.1s"
				fill="freeze" begin="indefinite"/>
			<animate attributeName="height" from="{$height}" to="0" dur="0.1s"
				fill="freeze" begin="indefinite"/>
		</rect>
	]]></text>
	<text id="blueItemHighlightText"><![CDATA[
		<rect x="-2" width="{$width + 4}" height="{$height}" fill="aqua"
			rx="{Math.round($height/2)}" ry="{Math.round($height/2)}"/>
	]]></text>
	</defs>
	<g id="controls">

	</g>
	<g id="labels" transform="translate(23, 120)">
		<rect x="-3" y="-3" width="190" height="45" fill="none" stroke-width="1"
			stroke="black"/>
		<text id="redWavelength" y="1em" fill="red">Red wavelength is set to 200nm</text>
		<text id="greenWavelength" y="2em" fill="green">Green wavelength is set to 400nm</text>
		<text id="blueWavelength" y="3em" fill="blue">Blue wavelength is set to 100nm</text>
	</g>
</svg>
