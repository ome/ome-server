 
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<!-- #BeginTemplate "/Templates/ContentPageTemplate.dwt" --> 
<HEAD>
<!-- #BeginEditable "doctitle" --> 
<TITLE>Open Microscopy Environment</TITLE>
<!-- #EndEditable --> 
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<META name="author" content="Andrea Falconi">
<LINK rel="stylesheet" href="../../include/style.css" type="text/css">
</HEAD>
<BODY>
<A name="top"></A> 
<!-- Start of Top Bars -->
<TABLE cellspacing="0" cellpadding="0" width="100%" height="114" border="0">
  <TR> 
    <TD> 
      <!-- Start of TopBar1 -->
      <TABLE class="topBar1" cellspacing="0" cellpadding="0" width="100%" height="27" border="0">
        <TR> 
          <TD><A href="http://www.openmicroscopy.org/"><IMG src="../../graphx/ome_mit.gif" width="62" height="22" border="0" alt="Project's Home Page"></A></TD>
        </TR>
      </TABLE>
      <!-- End of TopBar1 -->
    </TD>
  </TR>
  <TR> 
    <TD> 
      <!-- Start of TopBar2 -->
      <TABLE class="topBar2" cellspacing="0" cellpadding="0" width="100%" height="24" border="0">
        <TR> 
          <TD align="top"><img src="../../graphx/sbdd.gif" width="350" height="24"></TD>
          <TD width="90%" align="top"><IMG src="../../graphx/spacer.gif" width="1" height="1"></TD>
          <TD align="top"><A href="../index.htm"><IMG src="../../graphx/contents.gif" width="67" height="24" border="0" alt="Table of Contents "></A></TD>
          <TD align="top"><IMG src="../../graphx/bar_sep.gif" width="14" height="24"></TD>
          <TD align="top"><A href="index.htm"><IMG src="../../graphx/intro.gif" width="100" height="24" border="0" alt="Document Overview"></A></TD>
          <TD align="top"><IMG src="../../graphx/bar_sep.gif" width="14" height="24"></TD>
          <TD align="top"><A href="../repository/index.htm"><IMG src="../../graphx/repository.gif" width="84" height="24" border="0" alt="The Project Repository"></A></TD>
          <TD align="top"><IMG src="../../graphx/bar_sep.gif" width="14" height="24"></TD>
          <TD align="top"><A href="../dependencies/index.htm"><IMG src="../../graphx/dependencies.gif" width="101" height="24" border="0" alt="Dependencies"></A></TD>
          <TD align="top"><IMG src="../../graphx/bar_sep.gif" width="14" height="24"></TD>
          <TD align="top"><A href="../instructions/index.htm"><IMG src="../../graphx/build-deploy.gif" width="101" height="24" border="0" alt="Building and Deploying OME"></A></TD>
          <TD align="top"><IMG src="../../graphx/spacer.gif" width="30" height="8"></TD>
        </TR>
      </TABLE>
      <!-- End of TopBar2 -->
    </TD>
  </TR>
  <TR> 
    <TD> 
      <!-- Start of TopBar3 -->
      <TABLE class="topBar3" cellspacing="0" cellpadding="0" width="100%" height="63" border="0">
        <TR> 
          <TD width="10%"><A href="http://www.openmicroscopy.org/"><IMG src="../../graphx/logo.gif" width="216" height="47" border="0" alt="Project's Home Page"></A></TD>
          <TD width="80%" align="center" nowrap><!-- #BeginEditable "Section" -->I. 
            Introduction<!-- #EndEditable --></TD>
          <TD width="10%"><IMG src="../../graphx/image_informatics.gif" width="239" height="44"></TD>
        </TR>
      </TABLE>
      <!-- End of TopBar3 -->
    </TD>
  </TR>
</TABLE>
<!-- End of Top Bars -->
<BR>
<!-- Start of header -->
<TABLE width="90%" border="0" cellspacing="0" cellpadding="0" align="center">
  <TR> 
    <TD colspan="4" height="10">&nbsp;</TD>
  </TR>
  <TR> 
    <TD width="5%">&nbsp;</TD>
    <TD class="szSmall" width="80%" nowrap><A href="../../index.htm">SBDD</A>&gt;<!-- #BeginEditable "Link%20to%20section%20index%20page" --><A href="index.htm">Introduction</A><!-- #EndEditable --><!-- #BeginEditable "Current%20subsection" -->&gt;Relationship 
      with SCM<!-- #EndEditable --></TD>
    <TD  width="10%" align="right" nowrap><!-- #BeginEditable "Link%20to%20previous%20page" --><A href="index.htm"><IMG src="../../graphx/previous.gif" width="18" height="16" alt="Previous" border="0"></A><!-- #EndEditable -->&nbsp;&nbsp;&nbsp;<!-- #BeginEditable "Link%20to%20next%20page" --><A href="../repository/index.htm"><IMG src="../../graphx/next.gif" width="18" height="16" alt="Next" border="0"></A><!-- #EndEditable --></TD>
    <TD width="5%">&nbsp;</TD>
  </TR>
  <TR> 
    <TD width="5%">&nbsp;</TD>
    <TD colspan="2" width="90%" align="center"> 
      <HR width="100%">
    </TD>
    <TD width="5%">&nbsp;</TD>
  </TR>
  <TR> 
    <TD colspan="4" height="20">&nbsp;</TD>
  </TR>
  <TR> 
    <TD class="header" colspan="4"><!-- #BeginEditable "Subsection%20title" -->I-1. 
      Relationship with Software Configuration Management<!-- #EndEditable --></TD>
  </TR>
  <TR> 
    <TD colspan="4" height="30">&nbsp;</TD>
  </TR>
</TABLE>
<!-- End of header -->
<BR>
<!-- #BeginEditable "Page%20contents" --> 
<TABLE width="90%" border="0" cellspacing="0" cellpadding="0" align="center">
  <TR> 
    <TD width="100%"> 
      <!-- Start of Page Contents -->
      <TABLE width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
        <TR> 
          <TD class="szNorm" width="82%">Software Configuration Management in 
            the OME project makes use of the <a href="http://www.cvshome.org/" target="CVS">Concurrent 
            Versions System</a> (CVS).<br>
            Every time the OME development reaches a state that is noteworthy 
            to the developers and the system is successfully built and deployed, 
            the CVS repository (details about the repository in <a href="../repository/index.htm">Section 
            II</a>) is tagged to freeze that point in time. Also, a Software Build 
            and Deployment Document (SBDD, this document) is written to detail 
            necessary information for the build and deployment process. </TD>
          <TD width="3%">&nbsp;</TD>
          <TD class="sideTxt" valign="top" width="15%">Abstract</TD>
        </TR>
        <TR> 
          <TD colspan="3" height="10">&nbsp;</TD>
        </TR>
      </TABLE>
      <TABLE width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
        <TR> 
          <TD colspan="3" height="40">&nbsp;</TD>
        </TR>
        <TR> 
          <TD class="szNorm" width="82%">The build and deployment process is carried 
            out on several machines, with different configurations (see <a href="../instructions/p3.htm">Section 
            IV-3</a> and <a href="../instructions/p4.htm">IV-4</a> for details), 
            after checking out the latest source code and other necessary artifacts 
            from the CVS repository. If the outcome is positive on each of those 
            machines, then we attempt to do the same on our Reference Build Machine 
            (more about it in <a href="../instructions/p3.htm">Section IV-3</a>). 
            <br>
          </TD>
          <TD width="3%">&nbsp;</TD>
          <TD class="sideTxt" valign="top" width="15%">Building the software</TD>
        </TR>
        <TR> 
          <TD colspan="3" height="10">&nbsp;</TD>
        </TR>
      </TABLE>
      <TABLE width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
        <TR> 
          <TD colspan="3" height="40">&nbsp;</TD>
        </TR>
        <TR> 
          <TD class="szNorm" width="82%">If the system can be successfully built 
            and deployed on our Reference Build Machine too, we issue the <code>cvs 
            tag</code> command on the whole OME module (the repository organization 
            is described in <a href="../repository/index.htm">Section II</a>): 
            <p><code>cvs tag &lt;build_id&gt; OME</code></p>
            <p>where <code>build_id</code> has the following format:</p>
            <p><code>build-&lt;yyyy&gt;&lt;mm&gt;&lt;dd&gt;&lt;hh&gt;[M]</code></p>
            <p><code>yyyy := 4 digit year<br>
              mm := 2 digit month<br>
              dd := 2 digit day<br>
              hh := 2 digit GMT hour<br>
              M &nbsp;:= optional flag to denote a milestone build</code></p>
            <p>to mean the date and hour of the build. For example, the following 
              <code>build_id</code>:</p>
            <p><code>build-2003022819</code></p>
            <p>means that the build and deployment process was completed the 28th 
              of February 2003 at 19 GMT.<b><br>
              </b></p>
            <p>Notice that modifications to the CVS repository are deferred until 
              the end of the build and deployment process. That is, developers 
              don&#146;t commit their new or modified files to the CVS repository 
              during the build and deployment process.<br>
            </p>
          </TD>
          <TD width="3%">&nbsp;</TD>
          <TD class="sideTxt" valign="top" width="15%">Tagging the buid</TD>
        </TR>
        <TR> 
          <TD colspan="3" height="10">&nbsp;</TD>
        </TR>
      </TABLE>
      <TABLE width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
        <TR> 
          <TD colspan="3" height="40">&nbsp;</TD>
        </TR>
        <TR> 
          <TD class="szNorm" width="82%">At this point the SBDD is updated, if 
            necessary. In order to have a one-to-one correspondence between builds 
            and SBDDs, we commit the SBDD to CVS and tag it with the same <code>build_id</code> 
            as the build it refers to. <br>
            This <code>build_id</code> also becomes the SBDD Document ID and it 
            is reported on its <a href="../../index.htm">cover page</a>. <br>
            The last step is to write a document that explains why this point 
            in the development time is noteworthy and commit it to CVS. This document 
            has to be completely contained in a single text file and the file 
            name has to be the same as the <code>build_id</code>.<br>
            This way, we build a Tags History whose entries point to builds and 
            related SBDD.</TD>
          <TD width="3%">&nbsp;</TD>
          <TD class="sideTxt" valign="top" width="15%">Documenting the build</TD>
        </TR>
        <TR> 
          <TD colspan="3" height="10">&nbsp;</TD>
        </TR>
      </TABLE>
      <TABLE width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
        <TR> 
          <TD colspan="3" height="40">&nbsp;</TD>
        </TR>
        <TR> 
          <TD class="szNorm" width="82%">The above description is summarized by 
            the following informal diagram:<br>
          </TD>
          <TD width="3%">&nbsp;</TD>
          <TD class="sideTxt" valign="top" width="15%">Sum up</TD>
        </TR>
        <TR> 
          <TD colspan="3" height="10">&nbsp;</TD>
        </TR>
      </TABLE>
      <TABLE width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
        <TR> 
          <TD height="40"> 
            <HR width="80%" align="center">
          </TD>
        </TR>
        <TR> 
          <TD align="center"><img src="../../graphx/fig_I-1.gif" width="696" height="524"></TD>
        </TR>
        <TR> 
          <TD height="10">&nbsp;</TD>
        </TR>
        <TR> 
          <TD class="szNorm"> 
            <p><A name="fig_I-1"><B>Fig I-1</B></A>: Tagged builds and SBBDs. 
              This diagram describes the logical relationship and organization, 
              no assumption is made on physical storage. </p>
            </TD>
        </TR>
        <TR> 
          <TD height="40"> 
            <HR width="80%" align="center">
          </TD>
        </TR>
      </TABLE>
      <TABLE width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
        <TR> 
          <TD colspan="3" height="40">&nbsp;</TD>
        </TR>
        <TR> 
          <TD class="szNorm" width="82%"> 
            <p>Notice that, as pointed out by the comments in the diagram, not 
              every build is tagged. Many builds can be performed daily for the 
              sake of integration without being tagged&#151;for example, when 
              adding a new class, after unit tests, developers also want to see 
              how that behaves in the system and make sure it doesn&#146;t negatively 
              affect existing code.<br>
              Also, a noteworthy point in development time is not necessary a 
              milestone. When we have a good reason to tag a given build we do 
              so and explain why. However, every week a routine build is performed 
              that is tagged. This is a kind of &#145;a priori&#146; noteworthy 
              point in the development time, which, we believe, is useful to have 
              anyway&#151;for example, to ease development rollback and to consolidate 
              code integration. Of course, we don&#146;t exclude the possibility 
              of tagging a build between any two given weekly builds. Furthermore, 
              a milestone build may well happen to be a weekly build.</p>
            </TD>
          <TD width="3%">&nbsp;</TD>
          <TD class="sideTxt" valign="top" width="15%">Weekly and milestone builds</TD>
        </TR>
        <TR> 
          <TD colspan="3" height="10">&nbsp;</TD>
        </TR>
      </TABLE>
      <TABLE width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
        <TR> 
          <TD colspan="3" height="40">&nbsp;</TD>
        </TR>
        <TR> 
          <TD class="szNorm" width="82%">A final warning. The information and 
            instructions contained in this document only refer to the build that 
            was tagged on CVS with the same <code>build_id</code> as the one of 
            this document (see <a href="../../index.htm">cover page</a>). See 
            <a href="../repository/p2.htm">Section II-2 </a> for directions on 
            how to retrieve the source code and related artifacts which this document 
            refers to. <br>
            Notice that this document might not apply to non-tagged source code; 
            this may be the case for the latest code on CVS. Also, the latest 
            version of this document on CVS always refers to the latest tagged 
            build. </TD>
          <TD width="3%">&nbsp;</TD>
          <TD class="sideTxt" valign="top" width="15%">Mind the build_id</TD>
        </TR>
        <TR> 
          <TD colspan="3" height="10">&nbsp;</TD>
        </TR>
      </TABLE>
      <!-- End of Page Contents -->
    </TD>
  </TR>
</TABLE>
<!-- #EndEditable --> <BR>
<!-- Start of footer -->
<TABLE width="90%" border="0" cellspacing="0" cellpadding="0" align="center">
  <TR> 
    <TD colspan="5" height="40">&nbsp;</TD>
  </TR>
  <TR> 
    <TD width="5%">&nbsp;</TD>
    <TD colspan="3" width="90%" align="center"> 
      <HR width="100%">
    </TD>
    <TD width="5%">&nbsp;</TD>
  </TR>
  <TR> 
    <TD width="5%">&nbsp;</TD>
    <TD width="25%"><A href="#top"><IMG src="../../graphx/top.gif" width="16" height="18" alt="Top" border="0"></A></TD>
    <TD class="header" id="hdSmall" width="40%" align="center" nowrap><!-- #BeginEditable "Cur%20subsection" -->Relationship 
      with SCM<!-- #EndEditable --></TD>
    <TD width="25%" align="right" nowrap><!-- #BeginEditable "Lnk%20prev" --><A href="index.htm"><IMG src="../../graphx/previous.gif" width="18" height="16" alt="Previous" border="0"></A><!-- #EndEditable -->&nbsp;&nbsp;&nbsp;<!-- #BeginEditable "Lnk%20next" --><A href="../repository/index.htm"><IMG src="../../graphx/next.gif" width="18" height="16" alt="Next" border="0"></A><!-- #EndEditable --></TD>
    <TD width="5%">&nbsp;</TD>
  </TR>
  <TR> 
    <TD colspan="5" height="50">&nbsp;</TD>
  </TR>
</TABLE>
<!-- End of footer -->
</BODY>
<!-- #EndTemplate --> 
</HTML>
