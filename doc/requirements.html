<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
   <meta name="generator" content="BBEdit 6.1.2">
   <meta name="GENERATOR" content="Mozilla/4.77 (Macintosh; U; PPC) [Netscape]">
   <title>Dependencies</title>
</head>
<body bgcolor="#FFFFFF">
<h2>This serves as a starting point for the OME install guide.</h2>
<h4>I would GREATLY appreciate any comments, extra problems, etc.</h4>
<h5>-Ilya Goldberg</h5>

<h3>
OS Requirements:</h3>
There is no requirement for any kind of Linux per se - only certain open-source
libraries, perl modules, packages, and a unix-like file-system.
<br>
To my knowledge, there is no single Linux distribution that has all
of these, but I may be wrong.<br>&nbsp;
<h3>
Major package requirements:</h3>
<ul>
<li><a href="http://www.perl.com/">Perl</a> >= 5.6</li>
<li><a href="http://www.apache.org/">Apache</a>+mod_perl >= 1.3.12</li>
<li><a href="http://postgresql.bteg.net/">PostgreSQL</a> >= 7.1 with ODBC
support (JDBC, Tcl/Tk optional but recommended)</li>
<li><a href="http://www.imagemagick.org/">ImageMagick+PerlMagick</a></li>
</ul>
<h4>
Other Perl modules:</h4>

<ul>
<li>
Storable</li>
<li>
Apache::Session::File</li>

<li>
Image::Magick (PerlMagick)</li>

<li>
Frontier::XMLRPC (patched version in src/perl/modules)</li>

<li>
DBI (problems with 1.20. RH 7.1 ships with 1.14 which is too old - use the one in src/perl/modules)</li>
<li>
DBD::Pg (problems with many versions - use the one in src/perl/modules)</li>
</ul>
<p><br> The versions of perl modules can be determined from the command prompt.  For example the DBI version is:
<pre>> perl -MDBI -e 'print "$DBI::VERSION\n";'</pre> DBI versions 1.15 to 1.19 are OK.  
Determine DBD::Pg version by executing:
<pre>> perl -MDBD::Pg -e 'print "$DBD::Pg::VERSION\n";'</pre> DBD::Pg version 0.95 is what you want.
<p><br>Most of these modules have other dependencies that need to be satisfied.
This can most easily be done by installing them using CPAN. It is important
to configure CPAN to ASK before installing dependencies (not the default!),
so that it doesn't do something untoward like trying to install a new version
of perl (which it is very likely to do, and if it screws it up - which
is virtually guaranteed - it will seriously damage most UNIX systems).
<pre>> perl -MCPAN -e shell</pre>
will first configure CPAN, then run it. It is usually fairly useless to
do this from an account other than root.
<br>&nbsp;
<pre>CPAN>install Apache::Session::File</pre>
...etc. You can install Frontier::XMLRPC and DBD::Pg using this mechanism
to take care of the dependencies, and then install those modules from the
distro on top of them. If you start getting lots of questions about your
system, your processor, or your perl installation, it is trying to install
a new version of perl! Abort this process immediately by hitting ^C.
<p>Generally, installing Perl packages from a .tar.gz archive is done like so (assuming MyPackage-1.0.tar.gz, for example):
<pre>> tar -zxvf MyPackage-1.0.tar.gz
> cd MyPackage-1.0
> perl Makefile.PL
> make
> make test
> make install</pre>
<br>&nbsp;
<h4>
Other Libraries:</h4>
Usually need to re-install libtiff if you want LZW support.&nbsp; Get and
install the following libraries:
<br><a href="http://www.libtiff.org/tiff-v3.5.6-beta.tar.gz">tiff-v3.5.6-beta</a>
<br><a href="http://www.libtiff.org/libtiff-lzw-compression-kit-1.2.tar.gz">libtiff-lzw-compression-kit</a>
<p>To be useful, ImageMagick (and PerlMagick) need the following additional
libraries, which are usually installed:
<br>jpeg-6b
<br>in the near future, also freetype-2.0.4 (this is latest version, can
probably use an earlier one)
<br>&nbsp;
<h4>
PostgreSQL:</h4>
It is best to compile PostgreSQL from its source - I have had stability
problems with the binary RPMs. To compile PostgreSQL, you will need the
following libraries (not strictly required, but highly recommended):
<br><a href="http://cnswww.cns.cwru.edu/~chet/readline/rltop.html">readline</a>
(from gnu.org - usually present on Linux distros, but not always)
<br><a href="http://jakarta.apache.org/ant/">ant</a> (from the jakarta
project - binary install or RPM is fine)
<p>run the configure script with something like the following command:
.
<pre>./configure --with-perl --with-tcl --enable-odbc --with-java</pre>
You may also want to set the data directory using with the flag --datadir=DIRECTORY.
Read the INSTALL document before doing anything. If you installed DBD::Pg
before doing this, you must install it again (do a 'make clean' first!)
so that it is linked against the proper Postgres libraries.
<br>&nbsp;
</body>
</html>
