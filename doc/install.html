<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
   <meta name="generator" content="BBEdit 6.1.2">
   <meta name="GENERATOR" content="Mozilla/4.77 (Macintosh; U; PPC) [Netscape]">
   <title>Install</title>
</head>
<body bgcolor="#FFFFFF">

<h3>
OME Installation notes:</h3>

<ul>
<li>
Copy the contents of the src/perl directory to where your perl CGI scripts
live.</li>

<br>Make sure Apache-mod-perl is properly configured to execute perl scripts
in this directory.
<br>You can check that by going to the script perl/ShowEnvCGI.pl, and looking
at the GATEWAY_INTERFACE variable, which should be set to CGI-Perl/1.1.
<li>
Copy the contents to src/JavaScript somewhere where they will not be executed
by a CGI handler.</li>

Same with the images.<br>
Usually my document-root looks something like:
<pre>
html
	JavaScript
	images
perl
	all the perl stuff.
</pre>

<li>
Decide where you want to keep the java, SQL, and C stuff.&nbsp; So far
I've put things in a top level OME directory like so:</li>

<pre>
/OME
	C
	SQL
	java
	bin
	psql
</pre>
<li>
Go to the C directory, and do:<br><ul><pre>
>make all
>make install
</pre></ul></li>

<li>
On development servers I make a symbolic link between<pre>
perl/OMEpl.pm, perl/OMEDataset.pm, perl/OMEDataset/</pre>and wherever packages
are kept in your perl distribution, so that the perl interpreter picks
them up.&nbsp;  This is necessary only for running OME scripts from the shell rather than from Apache.  
You should definitely make symbolic links rather than copying the files so that updates get properly picked up.

<li>
You need to create the directories /var/tmp/OME, /var/tmp/OME/lock, /var/tmp/OME/sessions</li>

<li>
create the ome database:</li>
<ul><pre>
createdb ome
psql ome
psql>\i /OME/SQL/createOME.sql
psql>\q
</pre></ul>

<li>
create a db user for each user you want to connect</li>

<ul><pre>createuser username</pre></ul>

<li>
put entries into the experimenters table for each user:</li>

<ul>
<pre>
>psql ome
psql>INSERT INTO experimenters (ome_name,firstname,lastname,email) VALUES ('username','John','Doe','jdoe@nowhere.com');
psql>\q
</pre>
</ul>

<li>
The OME front page is OMEanalyze.pl.&nbsp; Point your browser there, and
it will redirect you to a login page.

<br>Passwords are currently not checked.&nbsp; There is a javascript RSA
implementation that might do the trick.
<br>Or, if you're behind a firewall, go ahead and send them in the clear,
or leave them disabled, whatever.
<br>Wether or not passwords are checked is decided in ~postgres/pgsql/data/pg_hba.conf</li>
<li>
Once you log in, proceed to import datasets.&nbsp; Only API SoftWorx,
ICCB_TIFF (Universal Imaging) and plain-vanilla single-plane TIFF files are presently supported.</li>

<br>SoftWorx support is in src/perl/OMEDataset/SoftWorx.pm, 
TIFF in src/perl/OMEDataset/TIFF.pm and ICCB_TIFF in src/perl/OMEDataset/ICCB_TIFF.pm.  TIFF datasets are 
single-plane per dataset type of file, while ICCB_TIFF supports multiple wavelengths.
There is a virtual class to serve as an example for general 5-D datasets in src/perl/OMEDataset/OME_XYZWT.pm, 
and a sample implementation of this class in src/perl/OMEDataset/OME_XYZWT/SoftWorx.pm.</ul>

</body>
</html>
